TestInternal_GatewayIntentions_aclDeny(t
TestDenylist(t
TestStore_ServiceDefaults_Kind_NotDestination(t
TestConfigurator_outgoingWrapperALPN_serverHasNoNodeNameInSAN(t
TestStore_Service_TerminatingGateway_Kind_Service(t
TestStreamResources_Server_FirstRequest(t
TestHTTPHandlers_AgentMetrics_LeaderShipMetrics(t
TestConfigSnapshotMeshGateway(t
TestStore_IntentionExact_ConfigEntries(t
TestLeader_PeeringSync_Lifecycle_UnexportWhileDown(t
TestSign_Unauthenticated(t
TestSnapshotInspectKVDetailsDepthCommand(t
TestDatacenterSupportsFederationStates(t
TestHandler_EmitsStats(t
TestFoo_bar(t
TestACL_filterServices(t
TestIntentionCreate_deny(t
TestStore_ConfigEntry_UpdateOver(t
TestTokenWriter_Delete(t
TestServiceSplitMergeParent(t
TestStructs_NodeService_ConnectNativeEmptyPortError(t
TestMixedServersMajorityLatestGAClient(t
TestCAManager_Initialize_Vault_Secondary_SharedVault(t
TestACL_filterIndexedNodesWithGateways(t
TestConfigSource_LocallyManagedService(t
TestServerFederationStateListMeshGateways(t
TestManager_StopBlocking(t
TestDNS_suite(t
TestIntentions())
TestInternal_CatalogOverview(t
TestAgent_RegisterServiceDeregisterService_Sidecar_UDP(t
TestLeader_LegacyIntentionMigration(t
TestServer_Login_ACLsDisabled(t
TestPeeringService_Read(t
TestCatalog_GatewayServices_ACLFiltering(t
TestCAManager_Initialize_Vault_FixesSigningKeyID_Primary(t
TestHookTranslateKeys(t
TestServiceResolverConfigEntry_OSS(t
TestAgent_ReloadConfig_XDSUpdateRateLimit(t
TestACL_vetCheckUpdateWithAuthorizer(t
TestKVImportPrefixCommand(t
TestCacheRateLimit(test
TestStore_Load(t
TestLoad_DeprecatedConfig(t
TestHealthServiceNodes_Blocking(t
TestStateStore(t
TestNodeServiceWithName(t
TestRequestRecorder(t
TestIntentionCreate_replace(t
TestEventPayloadCheckServiceNode_Subject_OSS(t
TestVaultCAProvider_ParseVaultCAConfig(t
TestIntentionCreate_Validation(t
TestSyslog_Unsupported(t
TestStore_LegacyIntention_Snapshot_Restore(t
TestServer_Subscribe_IntegrationWithBackend_FilterEventsByACLToken(t
TestStateStore_Usage_ServiceUsage_DeleteNode(t
TestStore_Service_TerminatingGateway_Kind_Service_Destination_Wildcard(t
TestPeeringService_Establish_serverNameConflict(t
TestAgent_ReloadDoesNotTriggerWatch(t
TestAgent_RegisterService_ACLDeny(t
TestPeeredUpstreams_badReqType(t
TestCatalog_topologyCleanupPanic(t
TestExportedServicesConfigEntry(t
TestManager_SendUpdate_Periodic(t
TestSupportedDataplaneFeatures_Unauthenticated(t
TestAPI_ConfigEntries_ServiceIntentions(t
TestSimplifyNotSourceSlice(t
TestHTTPHandlers_ACLReplicationStatus(t
TestGatewayNodesDC1(t),
TestConnectCA_ConfigurationSet_ForceWithoutCrossSigning(t
TestConfigSnapshotIngressGateway_MultiTLSListener_MixedHTTP2gRPC(t
TestEventPublisher_SubscribeWithIndexNotZero_CanResume(t
TestPeeringService_GenerateToken(t
TestBinder_NodeIdentities_Success(t
TestCertMonitor_RootsUpdate(t
TestServer_Subscribe_IntegrationWithBackend(t
TestConfigSnapshotTerminatingGatewayHTTP2(t
TestConnectCA_ConfigurationSet_RootRotation_Secondary(t
TestEnableWebUIWithMetricsOptions(t
TestStateStore_Usage_updateUsage_Underflow(t
TestUsageReporter_emitServiceUsage_OSS(t
TestServer_DeltaAggregatedResources_v3_BasicProtocol_TCP_clusterChangesImpactEndpoints(t
TestEventSnapshot(t
TestAutoConfig_updateGossipEncryptionInConfig(t
TestAuthorizerAllowAll(t
TestCAWithTTL(t
TestIntentionDelete_Validation(t
TestCheckUDPTimeoutPassing(t
TestFormatToken(t
TestCertsForMeshGateway(t)
TestConfigurator_OutgoingInternalRPCWrapper(t
TestStore_IntegrationWithEventPublisher_ACLRoleUpdate(t
TestPeeringService_Establish_invalidPeeringInSamePartition(t
TestPeeringService_IgnoresDefaultPartition(t
TestCache_ExpiryLoop_ExitsWhenStopped(t
TestNewIdentity(t
TestServiceResolverConfigEntry_LoadBalancer(t
TestEventPayloadCheckServiceNode_Subject(t
TestMain(m
TestSyslog_Wrapper(t
TestDNS_trimUDPResponse_TrimLimitWithNS(t
TestOIDC_JWT_Functions_Fail(t
TestConfigDelete_CAS(t
TestHTTP_PeeringEndpoint_OSS_Failure(t
TestStateStore_Usage_ServiceUsage_updatingConnectProxy(t
TestUnmarshalXML(t
TestVaultProvider_RotateAuthMethodToken(t
TestHealthView_IntegrationWithStore_WithEmptySnapshot(t
TestPeeringService_Establish_ThroughMeshGateway(t
TestSortCheckServiceNodes_OrderIsConsistentWithRPCResponse(t
TestConfigHCL(nodeID
Test_ComputeResolvedServiceConfig(t
TestUpstreamNodes(t),
TestConsulTagSpecifiers(t
TestHookWeakDecodeFromSlice_UnpacksNestedBlocks(t
TestCacheGet_expireBackgroudRefresh(t
TestCatalog_NodeServices_ACL(t
TestRequest(t,
TestConfigSnapshot(t,
TestInternal_ServiceDump_Peering(t
TestPreparedQueryNodes(t,
TestInternal_IntentionUpstreams_BlockOnNoChange(t
TestCAManager_AuthorizeAndSignCertificate(t
TestJWT_OIDC_Functions_Fail(t
TestAutoEncrypt_autoEncryptCSR(t
TestCARootsEvents(t
TestCatalogNodeServiceList_MergeCentralConfigBlocking(t
TestStore_Peering_Watch(t
TestMutex(t
TestCheckH2CPING(t
TestCatalog_DownstreamsForService_Updates(t
TestPeeringService_Establish(t
TestSubscriptionState_Events(t
TestSubscriptionManager_RegisterDeregister_EnableMeshGateways(t
TestConfigSnapshotMeshGateway(t)
TestSubscribeBackend_IntegrationWithServer_TLSReload(t
TestConfigEntryQuery_CacheInfoKey(t
TestHTTPServer_PProfHandlers_ACLs(t
TestServerLocalBlockingQuery_NotFound(t
TestACL_filterHealthChecks(t
TestAPI_AgentChecksWithFilterOpts(t
TestServiceIntentionsSnapshot(t
TestStateStore_Usage_PeeringUsage(t
TestIntentionQueryRequest_CacheInfoKey(t
TestAutoConfigBackend_DatacenterJoinAddresses(t
TestMixedServersMajorityTargetGAClient(t
TestServer_Login_LocalTokensDisabled(t
TestHookWeakDecodeFromSlice_NestedOpaqueConfig(t
TestNewBuilder_InvalidConfigFormat(t
TestAddDefaultsToUpstreams(t
TestPeeringService_RejectsPartition(t
TestSnapshotInspectCommandRaw(t
TestVetDeregisterWithACL(t
TestUpstreamNodes(t
TestStreamResources_Server_ServiceUpdates(t
TestAgent_ServerCertificate(t
TestServerTrustBundle_ACLEnforcement(t
TestWatcherReplace(t
TestExtractEventPayload(t
TestIntentionCreate(t
TestConfigEntry_DeleteCAS(t
TestEvent_IsEndOfSnapshot(t
TestIsProtocolHTTPLike(t
TestRequestRecorder_SimpleOK(t
TestConfigurator_GRPCServerUseTLS(t
TestHealthSnapshot(t
Tests](#running-tests)
TestLeader_PeeringMetrics_emitPeeringMetrics(t
TestInvalidNodeNameWarning(t
TestUpstreamNodesDC2(t),
TestServerIntentionUpstreams(t
TestStore_EnsureService_DoesNotPanicOnIngressGateway(t
TestDNS_AddressLookupIPV6InvalidType(t
TestServerGatewayServices(t
TestCatalog_VirtualIPForService(t
TestStreamResources_Server_KeepsConnectionOpenWithHeartbeat(t
TestGatewayNodesDC2(t),
TestPeeredServiceSNI(t
TestRequestRecorder_WriteRequest(t
TestConfigSnapshotPeering(t
TestStore_Get(t
TestReadyServerInfo_Equal(t
TestServer_DeltaAggregatedResources_v3_BasicProtocol_TCP(t
TestEventWatcherWrite(t
TestACLResolver_ServerManagementToken(t
TestPeeringService_PeeringDisabled(t
TestACL_filterNodeDump(t
TestConnectCA_ConfigurationSet_ChangeKeyConfig_Primary(t
TestACL_filterNodeServices(t
TestExpiryHeap(t
TestSubscriptionManager_CARoots(t
TestCheckH2PING_TLS_BadVerify(t
TestStateStore_Usage_KVUsage_Delete(t
TestInitialConfiguration_success(t
TestReload(t
TestConfigSnapshot(t
TestFallback(t
TestTrustBundles_MultipleUpdates(t
TestEventWatcherDirRead(t
TestPeeringBackend_RejectsPartition(t
TestEventWatcherDirCreateRemove(t
TestConfigSnapshotIngressGateway_TLSMixedMinVersionListeners(t
TestTrustBundles(t
TestBuilder_tlsVersion(t
TestCertMonitor_Fallback(t
TestMeshConfigEntry_PeerThroughMeshGateways(t
TestNewBearerToken(t
TestCheckHTTP_DisableRedirects(t
TestCertMonitor_CertUpdate(t
TestNewDialer_IntegrationWithTLSEnabledHandler(t
TestClientConnPool_IntegrationWithGRPCResolver_Rebalance(t
TestServer_ExchangeSecret(t
TestInternal_IntentionUpstreams(t
TestConfigSnapshotIngressGatewaySDS_ServiceLevel(t
TestConfigEntry_ResolveServiceConfig_Upstreams_Blocking(t
TestStore_Service_TerminatingGateway_Kind_Destination_Service(t
TestEstablishCommand_noTabs(t
TestACL_ReadAll(t
TestLeader_retryLoopBackoffHandleSuccess(t
TestWatchRoots_Success(t
TestPeeringToken(peerID
TestMeshConfigSnapshot(t
TestServerResolvedServiceConfig(t
TestManager_refreshServerRebalanceTimer(t
TestPeerTrustBundles(t).Bundles
TestAddFlags_WithParse(t
TestResolveListenerSDSConfig(t
TestACL_filterServiceList(t
TestServer_keyringRPCs(t
TestConfigSnapshotTerminatingGatewayWithLambdaService(t,
TestGatewayNodesDC6Hostname(t),
TestStateStore_Usage_NodeCount_Delete(t
TestConfigSnapshot_Clone(t
TestStateStore_Usage_ServiceUsagePeering(t
TestAutopilotStateToReadyServersWithExtGRPCPort(t
TestHTTP_Peering_Establish(t
TestCache_Prepopulate(t
TestPayloadEvents_HasReadPermission(t
TestUINodes_Filter(t
TestStreamResources_Server_ServiceUpdates_EnableMeshGateways(t
TestIntentionSpecificDelete(t
TestConfigurator_AuthorizeInternalRPCServerConn(t
TestConfigSnapshotIngress_GRPCMultipleServices(t
TestStore_IntegrationWithEventPublisher_ACLPolicyUpdate(t
TestIntentionMatch_matchDst(t
TestUpstreamID_EnvoyID(t
TestACLConfig())
TestEventPayloadCheckServiceNode_SubjectMatchesRequests(t
TestEventPublisher_PublishChangesAndSubscribe_WithSnapshot(t
TestServer_Login_ValidateLoginError(t
TestPublisher_ACLPolicyUpdate(t
TestServer_StreamAggregatedResources_IngressEmptyResponse(t
TestHTTPHandlers_ACLLegacy(t
TestLessThanHalfTimePassed(t
TestBinder_NodeIdentities_NameValidation(t
TestServerIntentions_Enterprise(t
TestACLChangeUnsubscribeEvent(t
TestCache(t)
TestGRPCWithTLSConfigs(t
TestHandler_ServeHTTP_TransformIsEvaluatedOnEachRequest(t
TestAPI_AgentHealthServiceOpts(t
Test_StreamHandler_UpsertServices(t
TestX509_EmptySubjectInCSR(t
TestDoesSelectorMatch(t
TestEnvoy_GatewayRegistration(t
TestConnectCA_ConfigurationSet_Vault_ForceWithoutCrossSigning(t
TestUsageReporter_Run(t
TestCatalog_DownstreamsForService(t
TestAuthorizer(t
TestStateStore_ExportedServicesForPeer(t
TestIntentionGet_verticalBar(t
TestWatcherAddRemove(t
TestHTTPHandlers_AgentMetricsStream_ACLDeny(t
TestStateStore_Usage_NodeUsagePeering(t
TestIntentionCreate_meta(t
TestPeerStreamService_ForwardToLeader(t
TestACLEndpoint_Login_jwt(t
TestStore_peersForService(t
TestPeeringBackend_GetDialAddresses(t
TestLoginCommand_jwt(t
TestServerLocalBlockingQuery_queryNotProvided(t
TestNodeServiceWithName(t,
TestSortByMemberNamePartitionAndSegment(t
TestConfigSnapshotIngressWithTLSListener(t
TestConfigSnapshotTransparentProxyDialDirectly(t
TestValidatePeeringToken(t
TestDNS_NonExistentDC_Server(t
TestStore_LegacyIntentionSet_emptyId(t
TestSpiffeIDServer_URI(t
TestACL_filterServiceTopology(t
TestHealthView_IntegrationWithStore_Filtering(t
TestInternal_CatalogOverview_ACLDeny(t
TestConfigSnapshotMeshGatewayOlderInformationInFederationStates(t
TestLoad_IntegrationWithFlags(t
TestLoadBalancer_injectLBToRouteAction(t
TestHTTP_Peering_GenerateToken_OSS_Failure(t
TestConfigSnapshotTerminatingGatewaySubsetsHTTP2(t
TestGetClaim(t
TestACL_unhandledFilterType(t
TestGatewayNodesDC4Hostname(t
TestServerLocalNotify(t
TestUIEndpoint_modifySummaryForGatewayService_UseRequestedDCInsteadOfConfigured(t
TestCheckH2PINGInvalidListener(t
TestACL_filterDatacenterCheckServiceNodes(t
TestConfigSnapshotTerminatingGatewayDestinations(t
TestListHealthyServiceNodes_MergeCentralConfig(t
TestStateCommand_JSON(t
TestBuilder_BuildAndValide_ConfigFlagsAndEdgecases(t
TestCAManager_Initialize_Vault_WithExternalTrustedCA(t
TestStringSliceMergeSorted(t
TestServer_DeltaAggregatedResources_v3_GetAllClusterAfterConsulRestarted(t
TestServiceHealthSnapshot(t
TestLocalAddr(freeport.Port(t))
TestAPI_StatusLeader_WrongDC(t
TestEventRateLimitedWatcherMove(t
TestAutoEncrypt_CertUpdate(t
TestOperator_KeyringListLocalOnly(t
TestMakeWatchPlan(t
TestIntentionCreate_FileNoExist(t
TestServiceHealthEventsFromChanges(t
TestRemoveIntentionPrecedence(t
TestMap_ForEachE(t
TestHookTimeToPBTimestamp_ZeroTime(t
TestInternal_ServiceGatewayService_Terminating(t
TestAgent_persistedService_compat_hash(t
TestStore_ValidateServiceIntentionsErrorOnIncompatibleProtocols(t
TestExportedPeeredServices(t
TestValidateAudience(t
TestHTTPHandlers_AgentMetrics_ConsulAutopilot_Prometheus(t
TestStateStore_Usage_ServiceUsage_updatingService(t
TestConfigValidate(t
TestSliceOfKeys(t
TestExportedServicesConfigEntry_OSS(t
TestStructs_ACLServiceIdentities_Deduplicate(t
TestConfigSnapshotTerminatingGateway(
TestServiceConfigEntry(t
TestConfigSource_Success(t
TestServer_DeltaAggregatedResources_v3_ACLTokenDeleted_StreamTerminatedDuringDiscoveryRequest(t
TestServerPeeringList(t
TestHTTPAPI_DefaultACLPolicy(t
TestInternal_ServiceGatewayService_Terminating_ACL(t
TestHookWeakDecodeFromSlice_ErrorsWithMultipleNestedBlocks(t
TestAutoEncrypt_generateCSR(t
TestStreaming_TLSReload(t
TestServiceDumpRequestCacheInfoKey(t
TestVaultProvider_ConfigureWithAuthMethod(t
TestUsageReporter_emitNodeUsage_OSS(t
TestInternal_GatewayIntentions(t
TestStore_IntentionTopology_Watches(t
TestDebugCommand_InvalidFlags(t
TestTLSVersion_PartialEq(t
TestStore_SystemMetadata(t
TestPeerTrustBundles(t),
TestAutoEncrypt_TokenUpdate(t
TestLeader_batchLegacyIntentionUpdates(t
TestAutoConfig_updateACLsInConfig(t
TestGatewayService_Addresses(t
TestBuilder_parsePrefixFilter(t
TestServer_CreateACLToken(t
TestMeshGatewayLeafForCA(t,
TestSpiffeIDAgentURI(t
TestIntention_HasWildcardSource(t
TestHTTP_Peering_Initiate(t
TestRateLimitedWatcherAddNotExist(t
TestCertsForMeshGateway(t
TestStateStore_ACLAuthMethod_GlobalNameShadowing_TokenTest(t
TestSnapshotInspectKVDetailsCommand(t
TestServer_RPC_RequestRecorder(t
TestSetup(t
TestACLConfig(),
TestServerLocalBlockingQuery_StateAbandoned(t
TestBinder_Roles_Success(t
TestRebalanceDelayer(t
TestInitialConfiguration_retries(t
TestIntentions().Matches[0],
TestFilterACL_redactTokenSecret(t
TestUpstreamNodesInStatus(t,
TestRegisterRequest_UnmarshalJSON_WithConnectNilDoesNotPanic(t
TestLeader_ACLUpgrade_IsStickyEvenIfSerfTagsRegress(t
TestLeader_Peering_retryLoopBackoffPeering_cancelContext(t
TestACLEndpoint_Login_with_TokenLocality(t
TestStore_ExportedServices(t
TestAPI_Headers(t
TestJWT_ValidateLogin(t
TestLeader_Peering_NoDeletionWhenPeeringDisabled(t
TestStateStore_Peering_ListDeleted(t
Test_isErrCode(t
TestConfigSnapshotIngressGatewaySDS_ListenerAndServiceLevel(t
TestConnectExpose(t
TestFilter_WithKey_AllEventsMatch(t
TestConfigEntryEventsFromChanges(t
TestServerHealth(t
TestHTTP_Peering_MethodNotAllowed(t
TestStateStore_Txn_LegacyIntention(t
TestMeshGatewayLeafForCA(t
TestTracker_EnsureConnectedDisconnected(t
TestConfigSnapshotPeeredMeshGateway(t
TestCatalog_Register_DenyPeeringRegistration(t
TestConfigSnapshotTerminatingGatewayWithLambdaServiceAndServiceResolvers(t
TestBindings_None(t
Test_Leader_PeeringSync_PeerThroughMeshGateways_ServerFallBack(t
TestConfigurator_AuthorizeServerConn_Error(t
TestDetermineEnvoyVersionFromNode(t
TestStateCommand_Pretty(t
TestMakeRBACNetworkAndHTTPFilters(t
TestKeyringCommand_numActions(t
TestServer_hcpManager(t
TestStreaming_TLSEnabled(t
TestServiceName_String(t
TestTokenWriter_Update_Success(t
TestConfigSnapshotTerminatingGateway(t
TestIntentionMatch_Validation(t
TestGetEnvoyBootstrapParams_Success(t
TestServiceConfigRequest(t
TestNodeServiceProxyInPartition(t,
TestSubscription_Subject(t
TestGenerateCommand(t
TestCheckServiceNode_UniqueID(t
TestConfigSnapshotIngressGatewaySDS_GatewayLevel_MixedTLS(t
TestSnapshotInspectKVDetailsCommandNoDetailsFlag(t
TestHTTPHandlers_AgentMetrics_TLSCertExpiry_Prometheus(t
TestConnectCA_ConfigurationSet_PersistsRoots(t
TestGRPCIntegration_ACL_Login_Logout(t
TestAutoEncrypt_InitialCerts(t
TestPeerTrustBundles(t
TestServiceResolverSnapshot(t
TestHealthView_IntegrationWithStore_WithFullSnapshot(t
TestSubscribeBackend_IntegrationWithServer_TLSEnabled(t
TestInternal_ServiceTopology(t
TestConfigSnapshotIngressGateway_SingleTLSListener_HTTP2(t
TestValidateProxyMode(t
TestSupportedDataplaneFeatures_Success(t
TestConfigSnapshotTransparentProxyDestinationHTTP(t
TestGetEnvoyBootstrapParams_Error(t
TestPeerTrustBundles(t).Bundles[0],
TestServerLocalNotify_Validations(t
TestStreaming_Subscribe_SkipSnapshot(t
TestStore_PeeringTrustBundleWrite(t
TestPeeringService_Establish_validPeeringInPartition(t
TestStore_PeeringTrustBundleDelete(t
TestServiceID_String(t
TestCanonicalArn(t
TestStructs_NodeService_ValidateConnectProxyWithAgentAutoAssign(t
TestServer_Subscribe_KeyIsRequired(t
TestStreamResources_Server_Follower(t
TestPeerings_MultipleUpdates(t
TestQueryOptionsFromContextRoundTrip(t
TestLogFile_Rotation_MaxBytes(t
TestIntentionApply_NoSourcePeer(t
TestJWT_ClaimsFromJWT(t
TestClient_RPC_Timeout(t
TestIngressGatewaySnapshot(t
TestDNS_AltDomain_NSRecords(t
TestCertMonitor_InitialCerts(t
TestAWSProvider_Cleanup(t
Test_gateWriteToSecondary(t
TestListCommand(t
TestStore_Get_Fresh(t
TestStateStore_GatewayServices_IngressProtocolFiltering(t
TestUsageReporter_Run_Nodes(t
TestHookWeakDecodeFromSlice_DoesNotModifySliceTargetsFromSliceInterface(t
TestConfigSnapshotTerminatingGatewayHostnameSubsets(t
TestServerTrustBundleList(t
Test_ExportedServicesCount(t
TestHTTPServer_PProfHandlers_DisableDebugNoACLs(t
TestValidateSTSHostname(t
TestAgent_startListeners_scada(t
TestParseCertURIFromString(t
TestCheckH2PING(t
TestRecoverMiddleware(t
TestAgent_OneTwelveRPCMetrics(t
TestCertManager_ACLsEnabled(t
TestStore_PeeringWrite(t
TestPayloadEvents_FilterByKey(t
TestCatalogOverview(t
TestACL_filterNodeServiceList(t
TestServer_DeltaAggregatedResources_v3_BasicProtocol_HTTP2(t
TestParseIntentionStringComponent(t
TestConfigSnapshotIngressGatewayWithChain(
TestNewCheckServiceNodeFromStructs_RoundTrip(t
Test_coalesceTimerTwoPeriods(t
TestKeyringCommand_poolName(t
TestBuilder_BuildAndValidate_ConfigFlagsAndEdgecases(t
TestState_CheckTokens(t
TestRequestRecorder_ReadRequest(t
