test_validate_should_fail_if_specification_is_none(self):
test_ssh_with_extra_disabled_algorithms(self,
test_dagrun_timeout_fails_run_and_update_next_dagrun(self,
test_context_triggering_dataset_events_none(self,
test_empty_emr_conn_id(self,
test_trigger_dagrun_with_wait_for_completion_true(self):
test_blocked_success_for_all_dag_user(all_dag_user_client):
test_trigger_dag_conf_malformed(admin_client):
test_delete_cache_not_exists(mock_check_if_cache_exists,
test_mapped_task_should_pass_if_not_reschedule_mode(self,
test_conf.gettimedelta('default',
test_init_with_default_conn(self,
test_delete_dataset(hook:
test_execute_if_s3_bucket_not_provided(self,
test_theres_limit_to_queued_dagruns_in_a_dag(self,
test_connect_and_disconnect_via_nonssl(self,
test_wasb_read(self,
test_labels_are_valid_on_job_templates(self):
test_forbidden_with_long_future_skew(self,
test_spark_python_submit_run(self,
test_operator_extra_link_override_global_extra_link(dag,
test_execute_without_failures(self,
test_config_not_created_by_default(self):
test_bash_version(self):
test_run_with_auto_detect(self,
test__time_restriction(dag_maker,
test_exec_success(self,
test_open_maybe_zipped_normal_file(self):
test_topological_sort2():
test_filters(env,
test_page_instance_name(self):
test_container_is_running(self,
test_get_credentials_from_login(self,
test_execute_pass(self,
test_parent_dag_access_applies_to_subdag(self):
test_list_models(self,
test_should_warning_about_incompatible_plugins(self):
test_params_dict(self):
test_build_with_custom_image_family(self):
test_kubernetes_init_params(self,
test_mark_tasks_now(self):
test_description_no_schema(self,
test_persistence_volume_annotations(self):
test_pod_template_file_system(self):
test_previous_start_date_success(self,
test_ds_format(ds,
test_instantiate_inline_workflow_template(self,
test_validate_should_interpret_dict_type(self):
test_only_database_result_backend_supports_clearing_queued_task(
test_rendered_template_failure(self):
test_expand_kwargs_error_if_unmappable_type(
test_get_credentials_and_project_id_with_invalid_keyfile_dict(
test_filters_response(self,
test_instance_check_works_for_legacy_db_api_hook(self):
test_pod_priority_class_name(
test_change_state_for_executable_task_instances_no_tis_with_state(self,
test_execute_workbooks_blocking(self,
test_python_callable_arguments_are_templatized(self):
test_create_dagrun_execution_date_without_timezone_default_utc(self):
test_relative_fileloc_serialized(
test_run_command(self,
tests_to_run=()
test_bash_operator_kill(self,
test_are_dependents_done(
test_create_cluster_operator_extra_links(dag_maker,
test_operator_expand_xcomarg_serde():
test_endpoint_should_not_be_unauthenticated(self):
test_dag_params_and_task_params(self):
test_delete_bucket(self,
test_should_provide_correct_attribute_values(self):
test_wait_for_termination(self,
test_should_serialize_cron_expression(self):
test_start_queued_dagruns_do_follow_execution_date_order(self,
test_execute_queries_count(
test_invalid_compute_value(self):
test_should_add_pod_labels(self):
test_mapped_operator_deserialized_unmap():
test_execute_unavailable_resource(self):
test_should_ignore_not_running_jobs(self):
test_fetch_callbacks_from_database_max_per_loop(self,
test_should_render_dag(self):
test_image_pull_policy_not_set(self):
test_check_for_stalled_adopted_tasks(self):
test_bigquery_check_operator_execute_complete():
test_custom_dep_detector(self):
test_copy_with_validate_all(self):
test_should_respond_200_support_plugins(self):
test_timing(self):
test_parse_oss_url(self):
test_path_exists(self,
test_get_uri_special_characters(self):
test_extra_links_works(dag,
test_delete_tickets(self):
test_cancel_trigger(hook:
test_key_pair_auth_encrypted_extra(self):
test_execute_xcom_disabled(self,
test_run_example_dag_composer(self):
test_paused_post_success(dag_test_client):
test_log_dump(self,
test_renew_from_kt_forwardable_false(self):
test_python_formatting(self,
test_ok_with_short_past_skew(self,
test_get_assume_role_kwargs_external_id_in_kwargs(self,
test_unauthenticated(self,
test_delete_bucket_if_not_bucket_exist(self,
test_start_pipeline(self,
test_log_groomer_command_and_args_overrides_are_templated(self):
test_mapped_upstream_return_none_should_skip(dag_maker,
test_mark_mapped_task_instance_state(self,
test_should_respond_200(
test_do_api_call_retries_with_retryable_error(self,
test_sql_branch_operator_postgres(self):
test_create_fargate_profile_throws_exception_when_fargate_profile_already_exists(
test_poke_context(self,
test_read_with_empty_metadata(self,
test_check_success_tasks_handles_initialization_failure(self):
test_stacktrace_on_failure_starts_with_task_execute_method(self,
test_copy_with_encryption_and_credential(self):
test_start_pod_fails_on_other_exception(self,
test_renew_from_kt_failed(self,
test_set_dag_runs_action_fails(admin_client,
test_submit_job(self,
test_decorator_map():
test_duplicate_task_group_id():
test_should_raise_403_forbidden(self):
test_xcom_deserialize_with_json_to_pickle_switch(self,
test_failure(self):
test_datetime_branch_operator_upper_comparison_within_range(self):
test_should_create_valid_affinity_tolerations_and_node_selector(self):
test_validate_should_interpret_allow_empty_clause(self):
test_validate_success(timetable:
test_list_nodegroups_returns_empty_by_default(self,
test_should_response_200_json(self,
test_run_example_dag_eks_create_nodegroup(self):
test_fail_method(self):
test_should_respond_200_dag_ids_filter(self,
test_poke_failed_job_with_verbose_logging(self,
test_context_removed_after_exit(self):
test_should_start_new_workers_when_missing(self,
test_pod_template_file_kwargs_override(self,
test_mark_success_on_success_callback(self,
test_execute_idempotency(self,
test_dag_file_processor_sla_miss_callback_exception(self,
test_write_to_remote_on_close(self,
test_kubernetes_default_path(self,
test_paths_info(self):
test_hooks_deprecation_warnings_not_generated(self):
test_job_run_job_failed(self,
test_run_pipeline_operator_link(self,
test_client.get_connection(conn_id="test_postgres")
test_without_command(self):
test_should_change_image_when_set_airflow_image(self):
test_localtaskjob_essential_attr(self,
test_waiter_timeout(self):
test_get_session_kwargs(self,
test_next_dagrun_info_timedelta_schedule_and_catchup_false(self):
test_get_task_definition_state(self,
test_create_subscription_without_subscription_name(self,
test_get_current_user_permissions(app,
test_empty_attribute(
test_deprecated_http_conn_id(self):
test_should_not_contain_host_header_if_host_empty_string(self):
test_external_task_sensor_failed_states_as_success_mulitple_task_ids(self):
test_read_nonexistent_log(self,
test_client_types(self,
test_merge_find_task_parameters_default_workspace(self):
test_cmdlet_task_id_default(self):
test_process_file_duplicated_dag_id(self):
test_fail_min_value_max_value(self,
test_external_task_marker_cyclic_shallow(dag_bag_cyclic):
test_minimal_green_path(self,
test_run_job_group_should_retry_after_four_errors(self,
test_run_example_dag_beam_go_dataflow_async(self):
test_resume_cluster_is_called_when_cluster_is_paused(self,
test_one_failure_tr_success(self,
test_execute_queries_count_with_harvested_dags(self,
test_trigger_queued_tasks(dag_maker,
test_reschedule_handling_clear_reschedules(self,
test_run_load_labels(self,
test_create_compilation_result(self,
test_requirements_file(self):
test_trigger_dagrun_with_wait_for_completion_true_fail(self):
test_poke_non_exsiting_key(self,
test_missing_region_parameter(self,
test_connections_prefix_none_value(self,
test_mapped_literal_length_reduction_at_runtime_adds_removed_state(dag_maker,
test_ssh_connection_no_connection_id(self):
test_bigquery_insert_job_operator_with_job_id_generate(mock_hook):
test_integer_fields(self,
test_dag_get_active_runs(self,
test_poke_wildcard(self,
test_object_exist(self,
test_trigger_dag_execution_date(admin_client):
test_to_json(self):
test_should_add_dags_volume_to_the_webserver_if_git_sync_is_enabled_and_peristence_is_disabled(self):
test_code_from_db(admin_client):
test_runs_respected_after_clear(self,
test_previous_pods_ignored_for_reattached(self):
test_gettimedelta(self):
test_views_post(admin_client,
test_poll_job_complete(self,
test_should_reject_invalid_update(self):
test_start_pdt_build(self,
test_find_executable_task_instances_concurrency_queued(self,
test_get_current_user_permissions(app):
test_read_missing_secret_from_secret_manager(self):
test_create_pool_existing(self,
test_should_response_404_if_key_does_not_exist(self):
test_parse_oss_object_directory(self):
test_cli_connections_add_json_and_uri(self):
test_app.task(execute)
test_none_skipped_tr_failure(self,
test_empty_cors_headers(self):
test_head_object(self,
test_should_return_correct_source_details(self):
test_ti_mapped_depends_on_mapped_xcom_arg(dag_maker,
test_table_upsert_already_exists(self,
test_verify_anon_user_with_admin_role_has_all_dag_access(self):
test_home_importerrors_filtered_singledag_user(broken_dags,
test_set_params_for_dag(self,
test_should_response_200_missing_xcom(self):
test_run_example_gcp_dataflow_template(self):
test_get_job_group_should_be_called_once_with_params(self,
test_callproc_dict(self):
test_conf.read_dict({'logging':
test_cmdenv_conf.sensitive_config_values.add(('testcmdenv',
test_target_time_aware(self):
test_get_rendered_k8s_spec(self,
test_have_all_config_mounts_on_init_containers(self):
test_merge_create_task_parameters_specified_workspace(self):
test_should_support_non_postgres_db(self):
test_incorrect_params_emtpy_table(self):
test_timezone_awareness(self,
test_export_task_poke_false(self):
test_update_with_path(self,
test_oneline_key(self):
test_delete_endpoint(self,
test_conf_as_dict_when_both_conf_and_env_are_empty(self,
test_bigquery_get_data_operator_async_without_selected_fields(mock_hook):
test_image_pull_secrets_correctly_set(self,
test_create_delete_bucket(self):
test_execute_sts_token(
test__write_local_data_files_csv(self):
test_maximum_limit_return_val(self):
test_execute_task_instances_unlimited(self):
test_handle_failure_task_undefined(self,
test_both_channel_and_channels_set(self):
test_hostname_override(self):
test_default_exporter_secret(self):
test_task_retry_wipes_next_fields(self,
test_daily_cron_trigger_no_catchup_first_starts_at_next_schedule(
test_get_conn_value_full_url_mode(self):
test_get_conn_ssl_bool_param(self,
test_set_downstream(self,
test_extra_serialized_field(self,
test_get_region_name(self,
test_persist(self,
test_validate_should_validate_group_of_specs(self):
test_task_documentation(self):
test_username_can_be_updated(self,
test_get_namespace(self,
test_overwrite_database(self):
test_get_client_type_deprecation_warning(self):
test_client_type_get_instance_state(self):
test_fetch_container_done(self,
test_access_control_stale_perms_are_revoked(
test_task_log_filename_unique(self,
test_worker_failure_gracefull_shutdown(self,
test_start_crawler(self,
test_kerberos_not_mentioned_in_render_if_disabled(self):
test_trigger_dagrun_with_reset_dag_run_true(self):
test_all_dag_access_doesnt_give_non_dag_access(self):
test_mark_reattached_pod_if_not_deleted(self,
test_execute_build_status_error(self,
test_graph_trigger_origin_graph_view(app,
test_should_deserialize_timedelta(self):
test_hook_raises(self):
test_get_non_existing_key(self,
test_doc_urls(admin_client):
test_asana_create_task_operator(self,
test_poke_ready(self,
test_system_site_packages(self,
test_merge_find_task_parameters_specified_project_overrides_workspace(self):
test_key_content_as_str(self,
test_role_permission_associate(acl_app):
test_export_model(self,
test_trigger_dag_form_origin_url_py_gt_387(self,
test_send_tasks_to_celery_hang(register_signals):
test_create_service(self,
test_reattach_save_task_arn_xcom(
test_before_send(self,
test_remote_file_content.encode('utf-8')
test_task_instance_clear(session,
test_documentation_template_rendered(self):
test_cli_remove_user_role(self,
test_bigquery_check_op_trigger_success_with_data(mock_job_output,
test_poke_on_intermediate_state(self,
test_pass_min_value_max_value(self,
test_delete_nodegroup_removes_deleted_nodegroup(
test_error_if_unmappable_length(self,
test_should_raise_400_for_invalid_order_by_name(self):
test_create_materialized_view(self,
test_client.get_config("test")
test_simple_reversed_dag(self,
test_do_not_schedule_removed_task(self,
test_next_dagrun_after_date_timedelta_schedule_and_catchup_true(self):
test_delete_cache_exists(mock_check_if_cache_exists,
test_copy_file_with_exact_match(self,
test_pass_min_sql_max_sql(self,
test_delete_task(self,
test_bigquery_insert_job_operator_execute_failure():
test_existing_nodegroup(
test_resolve_botocore_config(self,
test_bigquery_check_op_execute_complete_with_non_boolean_records():
test_runtype_enum_escape():
test_stat_name_must_only_include_allowed_characters(self):
test_should_add_dags_volume_to_the_worker_if_git_sync_is_enabled_and_peristence_is_disabled(self):
test_do_api_call_custom_retry(self):
test_upload_local_file(self,
test_with_base_date_and_num_runs_and_execution_date_outside(admin_client,
test_get_conn_params_should_support_private_auth_with_encrypted_key(
test_bigquery_insert_job_op_trigger_success(mock_job_status):
test_no_import_errors_with_parseable_dag(self,
test_mapped_decorator()
test_hook.create_or_update_secret(secret_path="path",
test_submit_sync_connection(self,
test_execute_not_all_records_are_true(self,
test_should_response_200(
test_update_endpoint(self,
test_executor_config_comparator():
test_set_failed_dag_run_to_success(self):
test_max_active_runs_in_a_dag_doesnt_stop_running_dagruns_in_otherdags(self,
test_all_skipped_tr_failure(self,
test_stop_pipeline_should_fail_if_status_not_200(self,
test_timedelta_trigger_serialization():
test_loads_filesystem_plugins_exception(self,
test_put(self):
test_write_on_existing_log(self,
test_create_task(self,
test_get_next_data_interval(
test_custom_formatter_custom_format(task_instance):
test_default_auth_type(self,
test_global_affinity_tolerations_and_node_selector(self):
test_with_row_locks(
test_retrieve_inventory_results_should_return_response(self,
test_execute_failure_fifo_queue(self):
test_test(self):
test_map_xcom_arg_multiple_upstream_xcoms(dag_maker,
test_trigger_dag_with_conf(self,
test_send_sla_callbacks_to_processor_sla_no_task_slas(self,
test_create_subscription(self,
test_bigquery_check_op_trigger_success_without_data(mock_job_output,
test_xcom_pull_after_success(self,
test_get_run_state_str(self,
test_illegal_args(self):
test_all_success_tr_skip_flag_upstream(self,
test_handle_failure_updates_queued_task_try_number(self,
test_poke_with_verbose_logging(self,
test_list_batches(self,
test_client.auth_userpass.assert_called_with(
test_monitor_pod_empty_logs(self):
test_get_blob_client(self,
test_empty_conn_property(self):
test_dryrun_with_invalid_template_field(self,
test_expected_aws_connection_type(self,
test_set_serialize_call_current_signature(self,
test_run_query_without_sql_fails(self,
test_cli_connections_export_should_return_error_if_create_session_fails(
test_cli_connections_add_invalid_type(self):
test_variable_prefix_none_value(self,
test_process_file_cron_validity_check(self,
test_heartbeat_failed_fast(self):
test_kube_config_connection(self,
test_create_cluster_generates_valid_cluster_created_timestamp(self,
test_python_callable_arguments_are_templatized(self,
test_find_airflow_root_upwards_from_cwd(capsys):
test_pod_launcher_role(self,
test('Internal
test_cloud_tasks_client_creation(self,
test_next_dagrun_info_timedelta_schedule_and_catchup_true(self):
test_execute_dont_push(self,
test_bigquery_value_check_operator_execute_complete_success():
test_should_respond_200_ascending_order_by_start_date(self):
test_password_hashed(
test_change_state_for_tis_without_dagrun(self,
test_ssh_connection_with_no_host_key_where_no_host_key_check_is_false(self,
test_file_transfer_no_intermediate_dir_error_get(self,
test_redirect_to_external_log_with_external_log_handler(_,
test_hook_send_dict_legacy_slack_integration(self,
test_sync_to_db_handles_dag_specific_permissions(self,
test_backfill_rerun_failed_tasks(self,
test_pipe_full_deadlock(self):
test_disable_handler_modifying(self,
test_sorting_home_view(url,
test_run_example_dag_s3_to_gcs(self):
test_serialize(self):
test_task_sigkill_works_with_retries(self,
test_extra_links_no_response(dag_run,
test_add_tuple_to_tags(self):
test_dag_test_show_dag(self,
test_delete_batch_prediction_job(self,
test_fail(self):
test_poke_returns_true(self,
tests_require.extend(aiohttp_require)
test_process_status_running(self):
test_action_export(admin_client,
test_get_safe_url(self,
test_action_logging_get_legacy_view(session,
test_passing_arguments_to_hook(self,
test_delete_bucket_if_bucket_exist(self,
test_fetch_all_jobs_when_no_jobs_returned(self):
test_submit_job_missing_region(self,
test_get_secret_metadata_v2(self,
test_has_dag_access_redirection(self):
test_timezone_passes(self):
test_merge_create_task_parameters_specified_project(self):
test_find_airflow_root_upwards_from_file(capsys):
test_process_sigterm_works_with_retries(self,
test_as_dict_respects_sensitive_cmds_from_env(self):
test_should_pass_validation_with_v1beta1_api(self):
test_set_thick_mode_extra(self,
test_running_pods_are_not_cleaned(self,
test_find_executable_task_instances_task_concurrency(self):
test_get_parse_imports(self):
test_branch_datetime_operator_upper_comparison_outside_range(self):
test_get_cluster_state(self,
test_code_no_file(admin_client):
test_critical_section_enqueue_task_instances(self,
test_int_param(self):
test_has_access(security_manager):
test_values_validate_schema(self):
test_public_read(self):
test_check_legacy_command(self):
test_scheduler_create_dag_runs_does_not_raise_error(self):
test_empty_attribute(self,
test_mapped_operator_serde():
test_should_respond_200_on_patch_is_paused(self):
test_bigquery_operator_extra_link_when_single_query(
test_should_response_200_with_schedule_interval_none(self,
test_annotations_on_airflow_pods_in_deployment(self):
test_dag_file_processor_process_task_instances_with_max_active_tis_per_dag(
test_workers_update_strategy(self,
test_run_full(appflow_conn,
test_mysql_operator_resolve_parameters_template_json_file(self):
test_get_credentials_and_project_id_with_default_auth_and_target_principal(
test_connection_with_jwt(
test_forbidden(self,
test_open_maybe_zipped_normal_file_with_zip_in_name(self):
test_read_key(self,
test_cli_add_user_role(self,
test_process_status_succeeded(self):
test_execute_raises_for_bad_glob_val(self,
test_cancel_job_run(self,
test_should_response_200_support_plugins(self):
test_get_s3_bucket_key_incompatible(self):
test_fast_follow(
test_get_logs_response_with_ti_equal_to_none(self):
test_default_args():
test_should_exec_subprocess(self,
test_get_job_status_exception(self,
test_auth_type_kubernetes_without_role_raises_error(self):
test_parse_arguments(self):
test_run_example_dag_salesforce_to_gcs_operator(self):
test_search(self,
test_mapped_task_upstream_removed_with_all_failed_trigger_rules(
test_external_redis_broker_url(self,
test_privileged(self):
test_http_protocol(self,
test_get_uri(self):
test_set_context_not_raw(self):
test_clear_not_launched_queued_tasks_mapped_task(self,
test_get_training_pipeline(self,
test_raised_provide_session(self):
test_get_sftp_tree_behavior(self):
test_trigger_dag_form_origin_url_py_lte_387(self,
test_session_cookie_created_on_login(user_client):
test_tasklist_shift(self,
test_create_workflow_invocation(self,
test_should_create_google_open_id_client(self,
test_collect_dags_from_db(self):
test_get_file_volume_connection_string(self):
test_disable_privilege_escalation(self):
test_redshift_operator(self,
test_worker_kind(self,
test_post_success(dag_test_client,
test_cli_connections_export_should_force_export_as_specified_format(
test_supports_external_link(self):
test_bigquery_table_partition_exists_false_no_partition(self,
test_deserialization_timetable(
test_update_build_trigger(self,
test_find_zombies_handle_failure_callbacks_are_correctly_passed_to_dag_processor(self):
test_poke_succeeds_on_upload_complete(self,
test_validate_should_not_raise_if_custom_validation_is_true(self):
test_run_success(request,
test_poke_mode_only_bad_class_method(self):
test_mapped_task_applies_default_args_classic(dag_maker):
test_client.auth.azure.configure.assert_called_with(
test_create_operator_with_wrong_parameters(
test_hook_connection_failed(self,
test_run_query_sql_dialect_legacy_with_query_params_fails(self,
test_compose_without_bucket(self,
test_set_bucket_name(
test_create_dataflow(hook:
test_airflow_command(self):
test_raise_with_external_task_sensor_task_group_and_task_id(self):
test_dag_autocomplete_success(client_all_dags):
test_execute_force_rerun(self,
test_has_all_dag_access(app,
test_should_generate_secret_with_specified_port(self):
test_flush_cursor_in_execute(self,
test_rendered_view_for_unexecuted_tis(self):
test_round_time(self):
test_execute_sts_token(self,
test_create_pool_with_same_name(admin_client):
test_sql_operator_hook_params_biguery(self,
test_bigquery_value_check_trigger_exception(mock_job_status):
test_new_import_error_replaces_old(self,
test_build_task_group_context_manager():
test_get_extra_docker_flags_none():
test_should_load_plugins_from_property(self):
test_vaults_protocol(self,
test_token_property_deprecated(self):
test_incorrect_default_args(self):
test_poke_get_files_false(self,
test_bigquery_interval_check_operator_execute_failure():
test_mapped_expand_against_params(dag_maker,
test_should_ingress_hosts_objs_have_priority_over_host(self):
test_dag_schedule_interval_match_timetable(schedule_interval):
tests_to_run=("kubernetes_tests")
test_deployments_no_rbac_with_sa(self):
test_mapped_task_instances_with_date(self,
test_file_task_handler_when_ti_value_is_invalid(self):
test_filter_by_state(self):
test_invalid_trigger_rule(self):
test_pod_template_file_with_overrides_system(self):
test_fetch_container_since_time(self,
test_off_by_default(self):
test_poke_cancelled(self,
test_uses_time(self):
test_should_pass_validation_with_just_pdb_enabled_v1(self):
test_mark_checked_unexpected_exception(self,
test_radius_init_params_port(self,
test_error_on_unregistered_ti_dep_serialization(self):
test_start_new_processes_with_same_filepath(self):
test_bigquery_check_op_trigger_serialization():
test_get_extra_docker_flags_skip():
test_dag_serialization_unregistered_custom_timetable(self):
test_get_conn_non_default_id(self,
test_existing_dag_default_view(self):
test_execute_success(self,
test_get_workflows_client(self,
test_update_factory(hook:
test_secret_not_created_by_default(self):
test_prefill_form_backcompat(extras,
test_get_run_page_url(self,
test_check_docker_compose_version_higher(mock_console,
test_get_secret_metadata_v1(self,
test_worker_resources_are_not_added_by_default(self):
test_xcom_key_getitem(self):
test_publisher_client_creation(self,
test_should_respond_200_and_pause_dags(self,
test_big_query_table_existence_trigger_exception(mock_table_exists):
test__search_for_dags_file():
test_cancel_export_task_no_wait(self,
test_custom_formatter_custom_format_not_affected_by_config(task_instance):
test_get_build_trigger(self,
test_thick_mode_defaults_to_false(self,
test_start_dagruns(self,
test_process_executor_events(self,
test_file_sensor(self,
test_generate_insert_sql_replace_false(self):
test_doc_urls(self):
test_unexpected_aws_connection_type(self,
test_should_respond_200_serialized(self,
test_rowcount(self,
test_remove_decorator_no_parens(self):
test_python_callable_keyword_arguments_are_templatized(self,
test_mapped_dag_slas_disabled_classic(self):
test_conn_id(self):
test_process_status_failed(self):
test_s3_delete_empty_list(self):
test_retry_db_transaction_fails_when_session_not_passed(self):
test_sql_alchemy_connect_args(
test_does_not_retry_on_airflow_fail_exception(self,
test_approle_missing_role(self,
test_sync_to_db_syncs_dag_specific_perms_on_update(self,
test_api_call_params_with_default_args(self,
test_prohibit_commit_specific_session_only(self):
test_create_and_delete_directories(self):
test_run_example_dag_cloudsql_query(self):
test_sanitize_should_not_fail_if_field_is_absent_in_body(self):
test_read_with_custom_offset_and_host_fields(self):
test_code_from_db_all_example_dags(admin_client):
test_list_endpoints(self,
test_hook_attribute(self):
test_poke_returns_false(self,
test_scheduler_sets_job_id_on_dag_run(self):
test_should_set_username_and_pass_env_variables(self):
test_python_op(self,
test_with_args(self,
test_should_default_to_custom_metadata_db_connection_in_old_version(self,
test_empty_role_arn(self):
test_dag_removed_if_serialized_dag_is_removed(self):
test_error_if_upstream_does_not_push(self,
test_run_spark_read_from_jdbc(self,
test_delete(self,
test_connection_success(self):
test_push_xcom_pod_info(
test_init_with_tasks(self):
test_scheduler_resources_are_not_added_by_default(self):
test_tabular_hook():
test_cli_connection_get_invalid(self):
test_gcp(self,
test_do_schedule_max_active_runs_task_removed(self):
test_should_not_contain_host_header_if_base_url_not_set(self):
test_get_job_id_by_name_success(self,
test_create_cluster_snapshot_is_called_when_cluster_is_available(
test_should_respond_204(self,
test_with_skip_in_branch_downstream_dependencies2(self,
test_run_example_fileshare(self):
test_that_extra_args_not_changed_between_calls(self,
test_email_alert.expand(x=[1,
test_external_task_marker_future(dag_bag_ext):
test_dashboard_flash_messages_many(user_client):
test_source_objects_as_string(self,
test_send_callback(self):
test_gcp_dict(self,
test_get(self):
test_error_metastore_client(self,
test_get_conn_default_to_none(self,
test_cli_connections_export_should_return_error_for_invalid_export_format(
test_bad_signature_raises(self,
test_is_default_pool(self):
test_check_success_tasks_raises_logs_disabled(self):
test_save_as_json_with_schema_file(self,
test_poke_reached_pending_state(self,
test_raise_exception_when_no_retry_args(self):
test_limit_ranges_are_not_added_by_default(self):
test_experimental_api(self):
test_get_safe_url(mock_url_for,
test_get_job_status(self,
test_bigquery_interval_check_operator_execute_complete():
test_ti_mapped_depends_on_mapped_xcom_arg_XXX(dag_maker,
test_client.auth_aws_iam.assert_called_with(
test_invoke_powershell(self,
test_get_rendered_k8s_spec(self):
test_put_bucket_tagging_with_key_but_no_value_raises_error(self):
test_unknown_tr(self,
test_log_groomer_retention_days_overrides(self,
test_sync_perm_for_dag(self,
test_should_set_labels_to_jobs_from_cronjob(self):
test_no_wait_for_termination(self,
test_construct_pod_empty_executor_config(self,
test_timeout_triggers(self,
test_should_response_200_with_reset_dag_run(self,
test_refresh_all(app,
test_retry_delay(self,
test_get_connections(self,
test_postgres_to_postgres_replace(self,
test_verify_false_parameter_overwrites_set_requests_ca_bundle_env_var(self,
test_check_and_change_state_before_execution_dep_not_met(self,
test_manual_with_restricted_middle(restricted_timetable:
test_bucket_name_provided_and_bucket_key_is_list_and_contains_s3_url(self,
test_do_api_call_succeeds_after_retrying(self,
test_adopt_or_reset_orphaned_tasks_external_triggered_dag(self,
test_merge_project_parameters_override(self):
test_backfill_retry_always_failed_task(self):
test_offline_upgrade_fails_for_migration_less_than_2_2_0_head_for_mssql(self):
test_create_workflow_template_depreciation_warning(self,
test_check_for_stalled_tasks(self,
test_override_role_vm(app_builder):
test_should_respond_200_text_plain(self):
test_should_respond_200_json(self,
test_connection_with_google_oauth(
test_check_docker_compose_version_ok(mock_console,
test_weight_rule_override(self):
test_no_handle_failure_on_success(self,
test_decode(self):
test_unfinished_dag_runs_set_to_failed(self,
test_delete_workflow(self,
test_description_retrieval(self):
test_list_jobs_success_single_page(self,
test_delete_hyperparameter_tuning_job(self,
test_update_user_auth_stat_first_successful_auth(mock_security_manager,
test_should_read_logs_for_all_try(self,
testing::skip_tests_if_requested(){
test_all_success_tr_skip(self,
test_zip_skip_log(self,
test_api_key_not_set(self):
test_open_slots(self,
test_should_kill_excess_workers(self,
test_import_error_tracebacks(self):
test_create_nodegroup_saves_provided_parameters(self,
test_call_20(self):
test_rendered_k8s(self):
test_hook_send_dict(self,
test_redis_by_chart_password(self,
test_execute(
test_create_bucket_regional_endpoint(self,
test_pass_value_template_string(self):
test_basic_docker_operator_with_param(self,
test_execute_xcom_with_no_log_fetcher(self,
test_ssh_connection_with_host_key_extra_with_type(self,
test_read_missing_logs(self,
test_no_additional_dag_permission_views_created(db,
test_dag_details_trigger_origin_graph_view(app,
test_check_if_job_exists_increment(self,
test_export_metadata(self,
test_create_nodegroup_throws_exception_when_nodegroup_already_exists(
test_map_unknown_arg_raises():
test(self):
test_should_response_200_multiple_links(self):
test_no_connection(self):
test_webserver_resources_are_configurable(self):
test_exec_date_dep(
test_provide_authorized_gcloud_key_path_and_keyfile_dict(self,
test_process_kill_calls_on_failure_callback(self,
test_action_if_job_exists_validation(self,
test_variable_set_with_env_variable(self):
test_fail_all_checks_check(self,
test_execute_operator(
test_adopt_tasks(self,
test_following_schedule_relativedelta_with_deprecated_schedule_interval(self):
test_copy_db_instance_snapshot(self):
test_mapped_task_instances_with_zero_mapped(self,
test_api_call(self,
test_change_state_skip_pod_deletion(
test_log_retrieval_valid(self,
test_dockerfile_example(dockerfile):
test_adopt_or_reset_orphaned_tasks_stale_scheduler_jobs(self,
test_deployments_with_rbac_with_sa(self,
test_single_annotation(self):
test_fails_bad_signature(self):
test_get_conn_value_broken_field_mode(self):
test_existing_secret(self):
test__write_local_data_files_parquet(self):
test_ssh_connection_with_host_key_extra(self,
test_verify_public_role_has_no_permissions(security_manager):
test_merge_find_task_parameters_default_project(self):
test_update_cluster_operator_extra_links(dag_maker,
test_mark_failure_externally(ti):
test_get_suffix_pattern_match(self):
test_update_workflow(self,
test_basic_deployment_with_standalone_dag_processor(self,
test_reschedule_date_too_late_on_mysql(self,
test_auth(self,
test_job_status_in_progress(self):
test_sensor.poke(None)
test_deprecated_options(self):
test_find_executable_task_instances_order_execution_date_and_priority(self):
test_fallback_find_airflow_root(capsys):
test_process_file_invalid_param_check(self):
test_start_java_pipeline_with_job_class(self,
test_instance_export_with_in_progress_retry(self,
test_bigquery_operator_extra_link_when_multiple_query(
test_check_docker_compose_version_higher(mock_get_console,
test_wait_for_job_run_status(hook,
test_should_deserialize(self):
test_get_workflow(self,
test_s3_copy_object_arg_combination_1(self):
test_check_docker_version_ok(mock_console,
test_function(session):
test_no_host_key_check_ignore(self,
test_should_set_permanent_session_timeout(self):
test_get_hyperparameter_tuning_job(self,
test_dag_edges():
test_render_template_field_undefined_default(self):
test_get_api_key_with_prefix(self):
test_resource_eq(self):
test_backfill_respect_task_concurrency_limit(self,
test_listener_captures_failed_taskinstances(create_task_instance_of_operator,
test_integration_run_dag(self):
test_execute_schema_json(self,
test_backfill_respect_default_pool_limit(self,
test_run_query_sql_dialect_legacy_with_query_params(self,
test_extra_serialized_field_and_multiple_operator_links(self,
test_get_target_principal_and_delegates_no_argument(self):
test_hook_send_dict_invalid_json_string(self,
test_should_response_200(self,
test_hook.create_or_update_secret(
test_user_defined_filter_and_macros_raise_error(app,
test_views_get(request,
test_event_to_str(self):
test_object_to_df_with_timestamp_conversion(self,
test_missing_assets(self):
test_find_many_with_projection(self):
test_aws_uri(self,
test_failed_create_application_request(self,
test_yaml_file_should_load_variables(self,
test_should_set_job_history_limits(self):
test_external_task_sensor_external_task_ids_param(self):
test_product_search_client_creation(self,
test_send_sla_callbacks_to_processor_sla_dag_not_scheduled(self,
test_schedule_interval_still_works(self):
test_get_conn_cert_auth(self,
test_get_events(self,
test_aws_ssm_get_connection(self,
test_external_task_sensor_soft_fail_failed_states_as_skipped(self,
test_scheduler_start_date(self,
test_create_workflow_template(self,
test_execute_create_dagrun_with_conf(self):
test_trigger_dag_invalid_conf(self):
test_execute_without_wait(self,
test_azure_synapse_run_spark_batch_operator_on_kill(
test_delete_cluster(self,
test_get_task_instance_on_empty_dagrun(self,
test_rowcount(self):
test_use_threads_default_value(self):
test_get_uri_from_connection_with_database_override(self):
test_download_media_called_once(self,
test_mini_scheduler_works_with_wait_for_downstream(self,
test_mark_skipped_externally(ti):
test('Test
test_create_build_with_body_and_build(self,
test_mark_upstream(self):
test_return_true_on_valid_reason(self):
test_backfill_skip_active_scheduled_dagrun(self,
test_instance_db_delete_should_abort_and_succeed_if_not_exists(self,
test_description_from_timetable(self,
test_trigger_dagrun_twice(self):
test_dagrun_update_state_with_handle_callback_failure(self):
test_verify_integrity_if_dag_not_changed(self):
test_db_instance_cluster_poke_true(self):
test_passing_client_kwargs(self,
test_hooks_importable(self):
test_clear_api(self,
test_wait_for_deletion(self):
test_should_respond_403_with_granular_access_for_different_dag(self):
test_scheduler_verify_pool_full_2_slots_per_task(self):
test_mapped_task_instances_order(self,
test_list_job_runs_with_payload(self,
test_should_fail_before_reschedule_date_one(self,
test_cycle_task_group_with_edge_labels(self):
test_expected_output_pull_request_v2_3(
test_expand_non_templated_field(dag_maker,
test_oss_read(self,
test_dag_dependencies(self):
test_bulk_write_to_db_datasets(self):
test_none_failed_min_one_success_tr_failure(self):
test_read_log_stream_should_support_multiple_chunks(self,
test_authorize_assert_http_timeout_is_present(self,
test_next_dagrun_after_date_catcup(self):
test_states_sets(self,
test_listener_gets_only_subscribed_calls(create_task_instance,
test_sensor_with_log(
test_operator_extra_link_override_plugin(dag,
testsuite.get('errors')
test_should_response_400_for_invalid_fields_in_update_mask(
test_execute_more_than_one_wildcard_exception(self,
test_create_or_update_secret_v2_method(self,
test_permission_exist(acl_app):
test_poke_exception(self,
test_verify_integrity_if_dag_changed(self):
test_show_dag_save(self,
test_retry_handling(self,
test_adopt_or_reset_orphaned_tasks(self,
test_success(request,
test_trigger_dagrun_triggering_itself(self):
test_xcom_pull_after_deferral(self,
test_backfill_run_rescheduled(self,
test_generate_insert_sql_replace_true(self):
test_build_task_group():
test_execute_queries_count_store_serialized(self,
test_one_ssh_client_many_commands(self):
test_short_circuit(appflow_conn,
test_run_cli(self,
test_backfill_respect_pool_limit(self,
test_blocked_success(client_all_dags_dagruns):
test_set_jinja_env_additional_option(self):
test_expected_output_full_tests_needed(
test_network_policies_are_valid(self):
test_run_with_schema(self,
test_run_example_gcp_cloud_build_dag(self):
test_viewer_cant_trigger_dag(self):
test_should_list_entrypoint_plugins_on_page_with_details(self):
test_refreshable_credentials(self,
test_dag_test_basic(self):
test_execute_compress(self,
test_expand_kwargs_render_template_fields_validating_operator(dag_maker,
test_ssl_defaults_dont_create_cert_secret(self):
test_flask_cli_should_display_routes(self):
test_hook(self,
test_should_response_400_for_invalid_fields_in_update_mask(self,
test_delete_nonexisting_blob_fails(self,
test_run_return_success(self,
test_mapped_literal_length_reduction_adds_removed_state(dag_maker,
test_airflow_local_settings_kerberos_sidecar(self):
test_list_fargate_profiles_returns_sorted_profile_names(
test_execute_without_failures_2(self,
test_failed_create_application(self,
test_tree_trigger_origin_tree_view(app,
test_wasb_read_raises(self):
test_hook_poll_query_when_final(self,
test_fix_dtypes(self,
test_set_dag_run_state_to_failed_no_running_tasks(self):
test_bigquery_get_data_operator_async_with_selected_fields(mock_hook):
test_delete_dagrun(session,
test_poke_message_filtering_jsonpath(self,
test_operation_resume_with_templates(self,
test_index_for_all_dag_user(client_all_dags):
test_submit_job_operator_extra_links(mock_hook,
test_keep_alive_disabled(self):
test_roles_create_unauthorized(app,
test_as_dict_works_without_sensitive_cmds(self):
test_critical_section_execute_task_instances(self,
test_init_role_baseview(app,
test_execute_copy_with_wildcard(
test_task_stats_success(
test_get_sqlalchemy_engine(self,
test_get_secret_binary(self):
test_trigger_dag_form(admin_client):
test_start_sql_job(self,
test_callproc_list(self):
test_skip_archive(self,
test_github_dejson(self,
test_poke_reached_target_state(self,
test_system_info(self):
test_wrapped_markdown_with_collapsible_section(self):
test_get_client(self,
test_end_date_before_start_date(timetable_1s):
test_fail_min_sql_max_sql(self,
test_cli_downgrade_confirm(self,
test_malformed_headers(self,
test_xcom_push_flag(self,
test_deprecated_from_param(self):
test_extra_warnings_non_json(self):
test_file_not_new_enough(self,
test_uri_with_invalid_characters(self,
test_should_raise_exception_if_message_text_is_not_provided(self,
test_load_string(self,
test_validate_params_on_trigger_dag(self):
test_externally_triggered_dagrun(self,
test_poke_completed(self,
test_invalid_order_by_raises_400(self,
test_get_credential(self,
test_redirect_to_external_log_with_local_log_handler(log_admin_client,
test_get_existing_key_v1_version(self,
test_cancel_execution(self,
test_offline_upgrade_fails_for_migration_single_versions_or_not_existing_head(self,
test_should_response_406(self,
test_should_warning_about_incompatible_plugins(self,
test_get_connection(self,
test_should_use_correct_image(self,
test_partial_mapped_decorator()
test_dag_task(self):
test_dagrun_timeout_verify_max_active_runs(self):
test_ssh_connection_with_host_key_where_no_host_key_check_is_true(self,
test_big_query_table_existence_trigger_serialization():
test_keda_concurrency(self,
test_set_xcomargs_dependencies_error_when_outside_dag(self):
test_edit_myuserinfo(admin_client):
test_should_add_dags_volume_to_the_worker_if_git_sync_is_enabled_and_persistence_is_disabled(self):
test_bigquery_check_operator_execute_failure():
test_task_group_sorted(self):
test_validate_should_raise_if_custom_validation_is_not_true(self):
test_get_log_events_with_expected_error(self,
test_should_not_warning_about_fab_and_flask_admin_plugins(self):
test_filter_by_state(self,
test_set_task_dates(self,
test_hive2samba(self,
test_dag_file_processor_dagrun_with_timedelta_schedule_and_catchup_false(self):
test_does_not_retry_on_airflow_fail_exception(self):
test_failure_mapped_taskflow(self,
test_should_not_add_sync_container_to_worker_if_git_sync_and_persistence_are_enabled(self):
test_enqueue_task_instances_sets_ti_state_to_None_if_dagrun_in_finish_state(self,
test_build_opsgenie_payload(self):
test_scheduler_task_start_date(self,
test_get_context_in_old_style_context_task(self):
test_branch_with_invalid_type(self):
test_execute_queries_count(self,
test_bigquery_get_data_operator_execute_failure():
test_should_respond_200_task_instance_with_sla_and_rendered(self,
test_cli_connections_export_should_force_export_as_specified_format(self,
test_should_pass_argument_to_hook(self,
test_get_file_id_when_one_file_exists(self,
test_get_partition(self):
test_execute_build(self,
test_inputs.items():
test_no_warnings(reset_logging_config,
test_should_create_valid_affinity_tolerations_topology_spread_constraints_and_node_selector(self):
test_list_pipelines_should_fail_if_empty_data_response(self,
test_dbapi_get_uri(self):
test_initialise_operator(self,
test_rendered_k8s_without_k8s(admin_client):
test_diagnose_cluster(self,
test_home_status_filter_cookie(admin_client):
test_execute_with_parameters(self,
test_open_maybe_zipped_archive(self):
test_get_all_permissions(self):
test_cli_sync_perm_include_dags(self,
test_date_timezone_omitted(self,
test_execute_wildcard_with_replace_flag_false_with_destination_object(self,
test_delete_with_path(self,
test_get_logs_with_invalid_metadata(log_admin_client):
test_set_task_instance_state_mapped(dag_maker,
test_delete_trigger(hook:
test_execute_with_existing_job_fail(
test_adopt_or_reset_orphaned_tasks_external_triggered_dag(self):
test_get_secret_including_metadata_v2(self,
test_should_not_generate_a_document_when_using_an_existing_claim(self):
